(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{58:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var r=n(22),o=n.n(r),a=n(23),l=n.n(a),i=n(24),c=n.n(i),u=n(25),s=n.n(u),f=n(14),d=n.n(f),g=n(0),b=n.n(g),m=n(2),h=n(1),p=n(34),y=n(36),E={blocksize:30,borderSize:5,fontSize:15,headerRatio:.15,difficultLevel:.1,getColumnsAmount:function(){var e=y.a.get("window").width;return Math.floor(e/this.blocksize)},getRowsAmount:function(){var e=y.a.get("window").height*(1-this.headerRatio);return Math.floor(e/this.blocksize)}},v=n(8),C=n.n(v),w=(n(78),n(5)),S=n(56),L=function(e){return b.a.createElement(h.a,{style:k.container},b.a.createElement(h.a,{style:k.coreMine}),b.a.createElement(h.a,{style:k.line}),b.a.createElement(h.a,{style:[k.line,{transform:[{rotate:"45deg"}]}]}),b.a.createElement(h.a,{style:[k.line,{transform:[{rotate:"90deg"}]}]}),b.a.createElement(h.a,{style:[k.line,{transform:[{rotate:"135deg"}]}]}))},k=m.a.create({container:{alignItems:"center",justifyContent:"center",padding:1.45},coreMine:{height:14,width:14,borderRadius:10,backgroundColor:"black",alignItems:"center",justifyContent:"center"},line:{position:"absolute",height:3,width:20,borderRadius:3,backgroundColor:"black"}}),O=function(e){return b.a.createElement(h.a,{style:P.container},b.a.createElement(h.a,{style:[P.flagpole,e.bigger?P.flagpoleBigger:null]}),b.a.createElement(h.a,{style:[P.flag,e.bigger?P.flagBigger:null]}),b.a.createElement(h.a,{style:[P.base1,e.bigger?P.base1Bigger:null]}),b.a.createElement(h.a,{style:[P.base2,e.bigger?P.base2Bigger:null]}))},P=m.a.create({container:{marginTop:2},flagpole:{position:"absolute",height:14,width:2,backgroundColor:"#222",marginLeft:9},flag:{position:"absolute",height:5,width:6,backgroundColor:"#F22",marginLeft:3},base1:{position:"absolute",height:2,width:6,backgroundColor:"#222",marginLeft:7,marginTop:10},base2:{position:"absolute",height:2,width:10,backgroundColor:"#222",marginLeft:5,marginTop:12},flagpoleBigger:{height:28,width:4,marginLeft:16},flagBigger:{height:10,width:14,marginLeft:3},base1Bigger:{height:4,width:12,marginTop:20,marginLeft:12},base2Bigger:{height:4,width:20,marginLeft:8,marginTop:24}}),x=function(e){var t=e.mined,n=e.opened,r=e.nearMines,o=e.exploded,a=e.flagged,l=[A.field];n&&l.push(A.opened),o&&l.push(A.exploded),a&&l.push(A.flagged),n||o||l.push(A.regular);var i=null;return r>0&&(1==r&&(i="#2A28D7"),2==r&&(i="#2B520F"),r>2&&r<6&&(i="#F9060A"),r>=6&&(i="#F221A9")),b.a.createElement(S.a,{onPress:e.onOpen,onLongPress:e.onSelect},b.a.createElement(h.a,{style:l},!!(!t&&n&&r>0)&&b.a.createElement(w.a,{style:[A.label,{color:i}]},r," "),!(!t||!n)&&b.a.createElement(L,null),!(!a||n)&&b.a.createElement(O,null)))},A=m.a.create({field:{height:E.blocksize,width:E.blocksize,borderWidth:E.borderSize},regular:{backgroundColor:"#999",borderLeftColor:"#CCC",borderTopColor:"#CCC",borderRightColor:"#333",borderBottomColor:"#333"},opened:{backgroundColor:"#999",borderColor:"#777",alignItems:"flex-end",justifyContent:"center",padding:1.6},label:{fontWeight:"bold",fontSize:E.fontSize},exploded:{backgroundColor:"red",borderColor:"red"}}),F=function(e){var t=e.board.map((function(t,n){var r=t.map((function(t,r){return b.a.createElement(x,C()({},t,{key:r,onOpen:function(){return e.onOpenField(n,r)},onSelect:function(t){return e.onSelectField(n,r)}}))}));return b.a.createElement(h.a,{key:n,style:{flexDirection:"row"}},r)}));return b.a.createElement(h.a,{style:j.container},t)},j=m.a.create({container:{backgroundColor:"#EEEEEE"}}),z=n(57),R=n.n(z),B=n(29),D=n.n(B);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var T=function(e,t,n){var r=function(e,t){return Array(e).fill(0).map((function(e,n){return Array(t).fill(0).map((function(e,t){return{row:n,column:t,opened:!1,flagged:!1,mined:!1,exploded:!1,nearMines:0}}))}))}(e,t);return function(e,t){for(var n=e.length,r=e[0].length,o=0;o<t;){var a=parseInt(Math.random()*n,10),l=parseInt(Math.random()*r,10);e[a][l].mined||(e[a][l].mined=!0,o++)}}(r,n),r},I=function(e){return e.map((function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}))}))},K=function(e,t,n){var r=[],o=[n-1,n,n+1];return[t-1,t,t+1].forEach((function(a){o.forEach((function(o){var l=a!==t||o!==n,i=a>=0&&a<e.length,c=o>=0&&o<e[0].length;l&&i&&c&&r.push(e[a][o])}))})),r},W=function e(t,n,r){var o=t[n][r];if(!o.opened)if(o.opened=!0,o.mined)o.exploded=!0;else if(function(e,t,n){return K(e,t,n).reduce((function(e,t){return e&&!t.mined}),!0)}(t,n,r))K(t,n,r).forEach((function(n){return e(t,n.row,n.column)}));else{var a=K(t,n,r);o.nearMines=a.filter((function(e){return e.mined})).length}},N=function(e){var t;return(t=[]).concat.apply(t,R()(e))},V=function(e){return e.mined&&!e.flagged||!e.mined&&!e.opened},H=function(e){return 0===N(e).filter(V).length},J=n(7),G=function(e){return b.a.createElement(h.a,{style:q.container},b.a.createElement(h.a,{style:q.flagContainer},b.a.createElement(J.a,{onPress:e.onFlagPress,style:q.flagButton},b.a.createElement(O,{bigger:!0})),b.a.createElement(w.a,{style:q.flagsLeft},"= ",e.flagsLeft)),b.a.createElement(J.a,{style:q.button,onPress:e.onNewGame},b.a.createElement(w.a,{style:q.buttonLabel},"Novo Jogo")))},q=m.a.create({container:{flex:1,flexDirection:"row",backgroundColor:"#EEE",alignItems:"center",justifyContent:"space-around",paddingTop:20,paddingHorizontal:20},flagContainer:{flexDirection:"row"},flagButton:{marginTop:10,minWidth:30},flagsLeft:{fontSize:30,fontWeight:"bold",paddingTop:5,marginLeft:20},button:{backgroundColor:"#999",padding:5},buttonLabel:{fontSize:20,color:"#ddd",fontWeight:"bold"}}),Q=n(59),U=function(e){return b.a.createElement(Q.a,{onRequestClose:e.onCancel,visible:e.isVisible,animationType:"fade",transparent:!0},b.a.createElement(h.a,{style:X.frame},b.a.createElement(h.a,{style:X.container},b.a.createElement(w.a,{style:X.title},"Selecione o N\xedvel"),b.a.createElement(J.a,{style:[X.button,X.bgVeryEasy],onPress:function(){return e.onLevelSelected(.01)}},b.a.createElement(w.a,{style:X.buttonLabel},"Muito F\xe1cil")),b.a.createElement(J.a,{style:[X.button,X.bgEasy],onPress:function(){return e.onLevelSelected(.1)}},b.a.createElement(w.a,{style:X.buttonLabel},"F\xe1cil")),b.a.createElement(J.a,{style:[X.button,X.bgNormal],onPress:function(){return e.onLevelSelected(.2)}},b.a.createElement(w.a,{style:X.buttonLabel},"Intermedi\xe1rio")),b.a.createElement(J.a,{style:[X.button,X.bgHard],onPress:function(){return e.onLevelSelected(.3)}},b.a.createElement(w.a,{style:X.buttonLabel},"Dif\xedcil")),b.a.createElement(J.a,{style:X.x,onPress:e.onCancel},b.a.createElement(w.a,{style:X.x},"Fechar")))))},X=m.a.create({frame:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.8)"},container:{backgroundColor:"#EEE",alignItems:"center",justifyContent:"center",padding:15},title:{fontSize:30,fontWeight:"bold"},button:{marginTop:10,padding:5},buttonLabel:{fontSize:20,color:"#EEE",fontWeight:"bold"},bgVeryEasy:{backgroundColor:"#2765F7",width:150},bgEasy:{backgroundColor:"#49b65d",width:150},bgNormal:{backgroundColor:"#cdcf53",width:150},bgHard:{backgroundColor:"#F26337",width:150},x:{alignContent:"flex-end",padding:10,fontWeight:"bold",fontSize:20}});function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s()(this,n)}}var Z=function(e){c()(n,e);var t=Y(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).minesAmount=function(){var e=E.getColumnsAmount(),t=E.getRowsAmount();return Math.ceil(e*t*E.difficultLevel)},r.createState=function(){var e=E.getColumnsAmount(),t=E.getRowsAmount();return{board:T(t,e,r.minesAmount()),won:!1,lost:!1,showLevelSelection:!1}},r.onOpenField=function(e,t){var n=I(r.state.board);W(n,e,t);var o=function(e){return N(e).filter((function(e){return e.exploded})).length>0}(n),a=H(n);o&&(!function(e){N(e).filter((function(e){return e.mined})).forEach((function(e){return e.opened=!0}))}(n),p.a.alert("Perdeu!","KKKKKKKKK")),a&&p.a.alert("Prabens","vc ganho"),r.setState({board:n,lost:o,won:a})},r.onSelectField=function(e,t){var n=I(r.state.board);!function(e,t,n){var r=e[t][n];r.flagged=!r.flagged}(n,e,t);var o=H(n);o&&p.a.alert("PARABENS","Vc ganhou"),r.setState({board:n,won:o})},r.onLevelSelected=function(e){E.difficultLevel=e,r.setState(r.createState())},r.state=r.createState(),r}return l()(n,[{key:"render",value:function(){var e,t=this;return b.a.createElement(h.a,{style:$.container},b.a.createElement(U,{isVisible:this.state.showLevelSelection,onLevelSelected:this.onLevelSelected,onCancel:function(){return t.setState({showLevelSelection:!1})}}),b.a.createElement(G,{flagsLeft:this.minesAmount()-(e=this.state.board,N(e).filter((function(e){return e.flagged})).length),onNewGame:function(){return t.setState(t.createState())},onFlagPress:function(){return t.setState({showLevelSelection:!0})}}),b.a.createElement(h.a,{style:$.board},b.a.createElement(F,{board:this.state.board,onOpenField:this.onOpenField,onSelectField:this.onSelectField})))}}]),n}(g.Component),$=m.a.create({container:{flex:1,justifyContent:"flex-end"},board:{alignItems:"center",backgroundColor:"#AAA"}})},60:function(e,t,n){e.exports=n(77)}},[[60,1,2]]]);
//# sourceMappingURL=app.ab5f77f0.chunk.js.map