{"version":3,"sources":["src/logic.js","src/components/Mine.js","src/components/Flag.js","src/components/Field.js","src/components/MinedField.js","src/functions.js","src/components/Header.js","src/screens/LevelSelection.js","App.js"],"names":["params","blocksize","borderSize","fontSize","headerRatio","difficultLevel","getColumnsAmount","width","Dimensions","get","Math","floor","this","getRowsAmount","boardHeight","height","props","View","style","styles","container","coreMine","line","transform","rotate","StyleSheet","create","alignItems","justifyContent","padding","borderRadius","backgroundColor","position","flagpole","bigger","flagpoleBigger","flag","flagBigger","base1","base1Bigger","base2","base2Bigger","marginTop","marginLeft","mined","opened","nearMines","exploded","flagged","styleField","field","push","regular","color","TouchableWithoutFeedback","onPress","onOpen","onLongPress","onSelect","Text","label","Mine","Flag","borderWidth","borderLeftColor","borderTopColor","borderRightColor","borderBottomColor","borderColor","fontWeight","rows","board","map","row","r","columns","c","Field","key","onOpenField","e","onSelectField","flexDirection","createMinedBoard","minesAmount","Array","fill","_","column","createBoard","length","minesPlanted","rowSel","parseInt","random","columnSel","spreadMines","cloneBoard","getNeighbors","neighbors","forEach","diferent","validRow","validColumn","openField","reduce","result","neighbor","safeNeighborhood","n","filter","fields","concat","pendding","wonGame","flagContainer","TouchableOpacity","onFlagPress","flagButton","flagsLeft","button","onNewGame","buttonLabel","flex","paddingTop","paddingHorizontal","minWidth","Modal","onRequestClose","onCancel","visible","isVisible","animationType","transparent","frame","title","bgVeryEasy","onLevelSelected","bgEasy","bgNormal","bgHard","x","alignContent","App","cols","ceil","createState","won","lost","showLevelSelection","state","hadExplosion","showMines","Alert","alert","setState","invertFlag","level","LevelSelection","Header","MinedField","Component"],"mappings":"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","file":"static/js/app.ab5f77f0.chunk.js","sourcesContent":["import { Dimensions } from 'react-native'\r\n\r\nconst params = {\r\n    blocksize: 30,\r\n    borderSize:5,\r\n    fontSize: 15,\r\n    headerRatio: 0.15, // Porcentagem da tela que ocupara o cabeçalho\r\n    difficultLevel: 0.1,\r\n    getColumnsAmount() {\r\n        const width = Dimensions.get('window').width\r\n        return Math.floor(width / this.blocksize) //floor arredonda p baixo\r\n    },\r\n\r\n    getRowsAmount() {\r\n        const totalHeight = Dimensions.get('window').height\r\n        const boardHeight = totalHeight * (1 - this.headerRatio)\r\n        return Math.floor(boardHeight / this.blocksize) //floor arredonda p baixo\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default params","import React from 'react'\r\nimport { View, StyleSheet } from 'react-native'\r\n\r\nexport default props => {\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={styles.coreMine} />\r\n            <View style={styles.line} />\r\n            <View style={[styles.line, { transform: [{ rotate: '45deg'}]}]} />\r\n            <View style={[styles.line, { transform: [{ rotate: '90deg'}]}]} />\r\n            <View style={[styles.line, { transform: [{ rotate: '135deg'}]}]} />\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding:1.45,\r\n    },\r\n    coreMine: {\r\n        height: 14,\r\n        width: 14,\r\n        borderRadius: 10,\r\n        backgroundColor: 'black',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    line: {\r\n        position: 'absolute',\r\n        height: 3,\r\n        width: 20,\r\n        borderRadius:3,\r\n        backgroundColor: 'black',\r\n    },\r\n})\r\n\r\n","import React from 'react'\r\nimport { StyleSheet, Text, View } from 'react-native'\r\n\r\nexport default props => {\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={[styles.flagpole, props.bigger ? styles.flagpoleBigger : null]}/>\r\n            <View style={[styles.flag, props.bigger ? styles.flagBigger : null]}/>\r\n            <View style={[styles.base1, props.bigger ? styles.base1Bigger : null]}/>\r\n            <View style={[styles.base2, props.bigger ? styles.base2Bigger : null]}/>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create ({\r\n    container: {\r\n        marginTop:2,\r\n    },\r\n    flagpole:{\r\n        position: 'absolute',\r\n        height:14,\r\n        width:2,\r\n        backgroundColor: '#222',\r\n        marginLeft: 9,\r\n    },\r\n    flag: {\r\n        position: 'absolute',\r\n        height:5,\r\n        width:6,\r\n        backgroundColor: '#F22',\r\n        marginLeft:3,\r\n    },\r\n    base1:{\r\n        position: 'absolute',\r\n        height:2,\r\n        width:6,\r\n        backgroundColor: '#222',\r\n        marginLeft:7,\r\n        marginTop:10,\r\n    },\r\n    base2:{\r\n        position: 'absolute',\r\n        height:2,\r\n        width:10,\r\n        backgroundColor: '#222',\r\n        marginLeft:5,\r\n        marginTop:12,\r\n    },\r\n    flagpoleBigger: {\r\n        height:28,\r\n        width:4,\r\n        marginLeft: 16,\r\n    },\r\n    flagBigger: {\r\n        height:10,\r\n        width:14,\r\n        marginLeft: 3,\r\n\r\n    },\r\n    base1Bigger: {\r\n        height:4,\r\n        width:12,\r\n        marginTop:20,\r\n        marginLeft: 12,\r\n    },\r\n    base2Bigger: {\r\n        height:4,\r\n        width:20,\r\n        marginLeft: 8,\r\n        marginTop:24,\r\n    }\r\n})","import { setStatusBarBackgroundColor } from 'expo-status-bar'\r\nimport React from 'react'\r\nimport { View, StyleSheet, Text, TouchableWithoutFeedback } from 'react-native'\r\nimport params from '../logic'\r\nimport Mine from './Mine'\r\nimport Flag from './Flag'\r\n\r\n\r\nexport default props => {\r\n    const { mined, opened, nearMines, exploded, flagged }= props\r\n\r\n    const styleField = [styles.field]\r\n    if (opened) styleField.push(styles.opened)\r\n    if (exploded) styleField.push(styles.exploded)\r\n    if (flagged) styleField.push(styles.flagged, )\r\n    if (!opened && !exploded) styleField.push(styles.regular)\r\n\r\n\r\n    let color = null\r\n\r\n    if (nearMines > 0) {\r\n        if (nearMines == 1) color = '#2A28D7'\r\n        if (nearMines == 2) color = '#2B520F'\r\n        if (nearMines > 2 && nearMines < 6) color = '#F9060A'\r\n        if (nearMines >= 6) color = '#F221A9'\r\n    }\r\n\r\n    return (\r\n        <TouchableWithoutFeedback onPress={props.onOpen}\r\n                                  onLongPress={props.onSelect}>\r\n            <View style={styleField}>\r\n                {!mined && opened && nearMines > 0 ?\r\n                 <Text style={[styles.label, {color: color}]}>\r\n                     {nearMines} </Text> : false}\r\n                {mined && opened ? <Mine /> : false}\r\n                {flagged && !opened ? <Flag/> : false}\r\n            </View>\r\n        </TouchableWithoutFeedback>\r\n\r\n            \r\n    )\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    field: {\r\n        height: params.blocksize,\r\n        width: params.blocksize,\r\n        borderWidth: params.borderSize,\r\n    },\r\n    regular: {\r\n        backgroundColor: '#999',\r\n        borderLeftColor: '#CCC',\r\n        borderTopColor: '#CCC',\r\n        borderRightColor: '#333',\r\n        borderBottomColor: '#333',\r\n    },\r\n\r\n    opened: {\r\n        backgroundColor: '#999',\r\n        borderColor: '#777',\r\n        alignItems:'flex-end',\r\n        justifyContent:'center',\r\n        padding: 1.6\r\n        \r\n        \r\n    },\r\n    label: {\r\n        fontWeight: 'bold',\r\n        fontSize: params.fontSize,\r\n    },\r\n    exploded: {\r\n        backgroundColor: 'red',\r\n        borderColor: 'red',\r\n    }\r\n})","import React from 'react'\r\nimport { View, StyleSheet } from 'react-native'\r\nimport Field from './Field'\r\n\r\nexport default props => {\r\n    const rows = props.board.map((row, r) => {\r\n        const columns = row.map((field, c) =>{\r\n            return <Field {...field} key={c} \r\n                onOpen={() => props.onOpenField(r, c)}\r\n                onSelect={e => props.onSelectField(r, c)}/>\r\n        })\r\n        return <View key={r} style={{flexDirection: 'row'}}>{columns}</View>\r\n    })\r\n    return <View style={styles.container}>{rows}</View>\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        backgroundColor:'#EEEEEE',\r\n    }\r\n})","const createBoard = (rows, columns) => {\r\n    return Array(rows).fill(0).map((_, row) => {\r\n        return Array(columns).fill(0).map((_, column) => {\r\n            return {\r\n                row,\r\n                column,\r\n                opened: false,\r\n                flagged: false,\r\n                mined: false,\r\n                exploded: false,\r\n                nearMines: 0\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nconst spreadMines = (board, minesAmount) => {\r\n    const rows = board.length\r\n    const columns = board[0].length\r\n    let minesPlanted = 0\r\n    \r\n    while (minesPlanted < minesAmount) {\r\n        const rowSel = parseInt(Math.random() * rows, 10)\r\n        const columnSel = parseInt(Math.random() * columns, 10)\r\n\r\n        if (!board[rowSel][columnSel].mined) {\r\n            board[rowSel][columnSel].mined = true\r\n            minesPlanted++\r\n        }\r\n    }\r\n}\r\n\r\nconst createMinedBoard = (rows, columns, minesAmount) => {\r\n    const board = createBoard(rows, columns)\r\n    spreadMines(board, minesAmount)\r\n    return board\r\n}\r\n\r\nconst cloneBoard = board => {\r\n    return board.map(rows => {\r\n        return rows.map(field => {\r\n            return { ...field }\r\n        })\r\n    })\r\n}\r\n\r\nconst getNeighbors = (board, row, column) => {\r\n    const neighbors = []\r\n    const rows = [row - 1, row, row + 1]\r\n    const columns = [column - 1, column, column + 1]\r\n    rows.forEach(r => {\r\n        columns.forEach(c => {\r\n            const diferent = r !== row || c !== column\r\n            const validRow = r >= 0 && r < board.length\r\n            const validColumn = c >= 0 && c < board[0].length\r\n            if (diferent && validRow && validColumn) {\r\n                neighbors.push(board[r][c])\r\n            }\r\n        })\r\n    })\r\n    return neighbors\r\n}\r\n\r\nconst safeNeighborhood = (board, row, column) => {\r\n    const safes = (result, neighbor) => result && !neighbor.mined\r\n    return getNeighbors(board, row, column).reduce(safes, true)\r\n}\r\n\r\nconst openField = (board, row, column) => {\r\n    const field = board[row][column]\r\n    if (!field.opened) {\r\n        field.opened = true\r\n        if (field.mined) {\r\n            field.exploded = true\r\n        } else if (safeNeighborhood(board, row, column)) {\r\n            getNeighbors(board, row, column)\r\n                .forEach(n => openField(board, n.row, n.column))\r\n        } else {\r\n            const neighbors = getNeighbors(board, row, column)\r\n            field.nearMines = neighbors.filter(n => n.mined).length\r\n        }\r\n    }\r\n}\r\n\r\nconst fields = board => [].concat(...board)\r\nconst hadExplosion = board => fields(board)\r\n    .filter(field => field.exploded).length > 0\r\nconst pendding = field => (field.mined && !field.flagged)||(!field.mined && !field.opened)\r\nconst wonGame = board => fields(board).filter(pendding).length === 0\r\nconst showMines = board => fields(board).filter(field => field.mined).forEach(field => field.opened = true)\r\n\r\nconst invertFlag = (board, row, column) => {\r\n    const field = board[row][column]\r\n    field.flagged = !field.flagged\r\n}\r\n\r\nconst flagsUsed = board => fields(board).filter(field => field.flagged).length\r\n\r\n\r\nexport {createMinedBoard, cloneBoard, openField, hadExplosion, wonGame, showMines, invertFlag, flagsUsed}","import React from 'react'\r\nimport { View, StyleSheet, Text, TouchableOpacity } from 'react-native'\r\nimport Flag from './Flag'\r\n\r\nexport default props => {\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={styles.flagContainer}>\r\n                <TouchableOpacity onPress={props.onFlagPress} style={styles.flagButton}>\r\n                    <Flag bigger/>\r\n                </TouchableOpacity>\r\n                <Text style={styles.flagsLeft}>= {props.flagsLeft}</Text>\r\n            </View>\r\n            <TouchableOpacity style={styles.button} onPress={props.onNewGame}>\r\n                <Text style={styles.buttonLabel}>Novo Jogo</Text>\r\n            </TouchableOpacity>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex:1,\r\n        flexDirection:'row',\r\n        backgroundColor:'#EEE',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around',\r\n        paddingTop:20,\r\n        paddingHorizontal:20,\r\n    },\r\n    flagContainer:{\r\n        flexDirection:'row',\r\n    },\r\n    flagButton:{\r\n        marginTop:10,\r\n        minWidth:30,\r\n    },\r\n    flagsLeft:{\r\n        fontSize:30,\r\n        fontWeight:'bold',\r\n        paddingTop:5,\r\n        marginLeft:20,\r\n    },\r\n    button:{\r\n        backgroundColor:'#999',\r\n        padding:5,\r\n    },\r\n    buttonLabel: {\r\n        fontSize:20,\r\n        color: '#ddd',\r\n        fontWeight: 'bold',\r\n    },\r\n})","import React from 'react'\r\nimport {View, StyleSheet, Text, TouchableOpacity, Modal} from 'react-native'\r\n\r\nexport default props => {\r\n    return (\r\n        <Modal onRequestClose={props.onCancel}\r\n            visible={props.isVisible} animationType='fade'\r\n            transparent={true}>\r\n            <View style={styles.frame}>\r\n                <View style={styles.container}>\r\n                    <Text style={styles.title}>Selecione o Nível</Text>\r\n                    <TouchableOpacity\r\n                        style={[styles.button, styles.bgVeryEasy]}\r\n                        onPress={() => props.onLevelSelected(0.01)}>\r\n                        <Text style={styles.buttonLabel}>Muito Fácil</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity\r\n                        style={[styles.button, styles.bgEasy]}\r\n                        onPress={() => props.onLevelSelected(0.1)}>\r\n                        <Text style={styles.buttonLabel}>Fácil</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity\r\n                        style={[styles.button, styles.bgNormal]}\r\n                        onPress={() => props.onLevelSelected(0.2)}>\r\n                        <Text style={styles.buttonLabel}>Intermediário</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity\r\n                        style={[styles.button, styles.bgHard]}\r\n                        onPress={() => props.onLevelSelected(0.3)}>\r\n                        <Text style={styles.buttonLabel}>Difícil</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.x} onPress={props.onCancel}><Text style={styles.x}>Fechar</Text></TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    frame: {\r\n        flex: 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: 'rgba(0,0,0,0.8)',\r\n    },\r\n    container: {\r\n        backgroundColor: '#EEE',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: 15,\r\n    },\r\n    title: {\r\n        fontSize: 30,\r\n        fontWeight: 'bold',\r\n    },\r\n    button: {\r\n        marginTop: 10,\r\n        padding: 5,\r\n    },\r\n    buttonLabel: {\r\n        fontSize: 20,\r\n        color: '#EEE',\r\n        fontWeight: 'bold',\r\n    },\r\n    bgVeryEasy: {\r\n        backgroundColor: '#2765F7',\r\n        width: 150,\r\n    },\r\n    bgEasy: {\r\n        backgroundColor: '#49b65d',\r\n        width: 150,\r\n    },\r\n    bgNormal: {\r\n        backgroundColor: '#cdcf53',\r\n        width: 150,\r\n    },\r\n    bgHard: {\r\n        backgroundColor: '#F26337',\r\n        width: 150,\r\n    },\r\n    x: {\r\n        alignContent:'flex-end',\r\n        padding:10,\r\n        fontWeight:'bold',\r\n        fontSize: 20,\r\n\r\n    }\r\n})","import React, { Component } from 'react';\nimport { StyleSheet, Text, View, Alert } from 'react-native';\nimport params from './src/logic'\nimport MinedField from './src/components/MinedField'\nimport { createMinedBoard,cloneBoard,openField,hadExplosion,wonGame,showMines,invertFlag,flagsUsed } from './src/functions'\nimport Header from './src/components/Header'\nimport LevelSelection from './src/screens/LevelSelection'\n\n\nexport default class App extends Component {\n\n  constructor (props) {\n    super(props)\n    this.state = this.createState()\n  }\n\n  minesAmount = () => {\n    const cols = params.getColumnsAmount()\n    const rows = params.getRowsAmount()\n    return Math.ceil(cols * rows * params.difficultLevel)\n  }\n\n  createState = () => {\n    const cols = params.getColumnsAmount()\n    const rows = params.getRowsAmount()\n    return {\n      board: createMinedBoard(rows, cols, this.minesAmount()),\n      won:false,\n      lost:false,\n      showLevelSelection: false,\n    }\n  }\n\n  onOpenField = (row, column) => {\n    const board = cloneBoard(this.state.board)\n    openField(board, row, column)\n    const lost = hadExplosion(board)\n    const won = wonGame(board)\n\n    if (lost) {\n      showMines(board)\n      Alert.alert('Perdeu!', 'KKKKKKKKK')\n    }\n\n    if (won) {\n      Alert.alert('Prabens', 'vc ganho')\n    }\n\n    this.setState({board,lost,won})\n  }\n\n  onSelectField = (row, column) => {\n    const board = cloneBoard(this.state.board)\n    invertFlag(board, row, column)\n    const won = wonGame(board)\n\n    if (won) {\n      Alert.alert('PARABENS','Vc ganhou')\n    }\n\n    this.setState({board, won })\n  }\n  \n  onLevelSelected = level => {\n    params.difficultLevel = level\n    this.setState(this.createState())\n  }\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <LevelSelection isVisible={this.state.showLevelSelection} \n                        onLevelSelected={this.onLevelSelected} \n                        onCancel={() => this.setState({ showLevelSelection: false })} />\n\n        <Header flagsLeft={this.minesAmount() - flagsUsed(this.state.board)} \n                onNewGame={() => this.setState(this.createState())} \n                onFlagPress={() => this.setState({ showLevelSelection: true })}/>\n\n        <View style={styles.board}>\n          <MinedField board={this.state.board} \n            onOpenField={this.onOpenField}\n            onSelectField={this.onSelectField}/>\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'flex-end',\n  },\n  board: {\n    alignItems:'center',\n    backgroundColor:'#AAA',\n  }\n});\n"],"sourceRoot":""}